import{i as C,u as F,a as N,r as o,b as n,o as p,c as v,d as s,e as l,w as j,f,g as h,F as q,n as A,j as w,t as y,k as b,s as L}from"./index-Ddae1Fuk.js";import"firebase/app";const U={class:"signup-height flex flex-col items-center w-full md:p-10"},R=l("span",{class:"flex items-center justify-center text-2xl font-bold"},"Sign In",-1),z={class:"flex flex-col gap-4 p-5 rounded"},D=l("label",{for:"email"},"Email",-1),M={key:0,class:"p-error"},W=l("label",{for:"password"},"Password",-1),Y={key:0,class:"p-error"},G=l("span",{class:"text-slate-300 w-80"},"By continuing you agree to the Policy and Rules",-1),H={class:"pt-4"},Q={__name:"signin",setup(J){const x=C(),_=F(),k=N(),r=o(""),d=o(""),t=o(null),u=o(null),e=o(null),c=o(!1),P=()=>{t.value=null,u.value=null;let a=!0;return r.value?/\S+@\S+\.\S+/.test(r.value)||(t.value="Email must be valid",a=!1):(t.value="Email is required",a=!1),d.value||(u.value="Password is required",a=!1),a},V=async()=>{if(P()){c.value=!0,e.value=null;try{(await L(x,r.value,d.value)).user&&(_.add({severity:"success",summary:"Success",detail:"Logged in successfully!",life:3e3}),k.push({name:"indexPage"}))}catch(a){switch(a.code){case"auth/invalid-credential":e.value="Please check your email or password and try again.";break;case"auth/wrong-password":e.value="Incorrect password. Please try again.";break;case"auth/user-not-found":e.value="No user found with this email.";break;case"auth/too-many-requests":e.value="Too many failed login attempts. Please try again later.";break;case"auth/invalid-email":e.value="Invalid email address.";break;default:e.value="An unknown error occurred. Please try again later."}_.add({severity:"error",summary:"Error",detail:e.value,life:3e3})}finally{c.value=!1}}};return(a,i)=>{const E=n("InputText"),g=n("FloatLabel"),I=n("Password"),S=n("Toast"),T=n("Button"),B=n("router-link");return p(),v(q,null,[s(A),l("div",U,[l("form",{onSubmit:j(V,["prevent"]),class:"flex flex-col items-center justify-center rounded p-3 shadow-lg bg-white"},[R,l("div",z,[s(g,null,{default:f(()=>[s(E,{id:"email",modelValue:r.value,"onUpdate:modelValue":i[0]||(i[0]=m=>r.value=m),class:w({"p-invalid":t.value})},null,8,["modelValue","class"]),D,t.value?(p(),v("p",M,y(t.value),1)):b("",!0)]),_:1}),s(g,null,{default:f(()=>[s(I,{id:"password",modelValue:d.value,"onUpdate:modelValue":i[1]||(i[1]=m=>d.value=m),feedback:!1,class:w({"p-invalid":u.value})},null,8,["modelValue","class"]),W,u.value?(p(),v("p",Y,y(u.value),1)):b("",!0)]),_:1})]),G,s(S),s(T,{label:"Sign In",class:"w-80 bg-green-500 rounded p-2 text-white",type:"submit",disabled:c.value},null,8,["disabled"]),l("span",H,[h("Yet to have an account "),s(B,{to:{name:"signup"},class:"underline"},{default:f(()=>[h("Sign Up")]),_:1})])],32)])],64)}}};export{Q as default};
